LangChain Chatbot Backend

π“ ν”„λ΅μ νΈ λ©μ 

μ΄ ν”„λ΅μ νΈλ” LangChain κΈ°λ° μ±—λ΄‡ λ°±μ—”λ“λ¥Ό κµ¬μ¶•ν•κΈ° μ„ν• ν…ν”λ¦Ώμ…λ‹λ‹¤.
FastAPIλ¥Ό κΈ°λ°μΌλ΅ κ³„μΈµν• κµ¬μ΅°(routers, controllers, adapters,
services)λ¥Ό μ μ©ν•μ—¬ μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μ€μµλ‹λ‹¤.
ν…μ¤νΈλ” pytestλ¥Ό ν™μ©ν•μ—¬ λ‹¨μ„(Unit), ν†µν•©(Integration) μμ¤€μΌλ΅ κ΄€λ¦¬ν• 
μ μμµλ‹λ‹¤.

------------------------------------------------------------------------

π“‚ ν΄λ” κµ¬μ΅°

    langchain-chatbot/
    β”β”€β”€ api/                     # μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“
    β”‚   β”β”€β”€ main.py              # FastAPI μ•± μ—”νΈλ¦¬ν¬μΈνΈ (create_app)
    β”‚   β”β”€β”€ core/                # ν•µμ‹¬ μ„¤μ • (ν™κ²½λ³€μ, config)
    β”‚   β”β”€β”€ routers/             # λΌμ°ν… κ³„μΈµ (health, chat λ“±)
    β”‚   β”β”€β”€ controllers/         # λΉ„μ¦λ‹μ¤ λ΅μ§ κ³„μΈµ
    β”‚   β”β”€β”€ adapters/            # μ™Έλ¶€ μ—°λ™ κ³„μΈµ (μ: Redis, DB)
    β”‚   β”β”€β”€ services/            # μ„λΉ„μ¤ κ³„μΈµ (μ¶”ν›„ κµ¬ν„)
    β”‚   β””β”€β”€ schemas/             # Pydantic λ¨λΈ μ •μ
    β”‚
    β”β”€β”€ tests/                   # ν…μ¤νΈ μ½”λ“
    β”‚   β”β”€β”€ conftest.py          # κ³µμ© pytest fixture
    β”‚   β”β”€β”€ unit/                # λ‹¨μ„ ν…μ¤νΈ
    β”‚   β”β”€β”€ integration/         # ν†µν•© ν…μ¤νΈ (μ¶”ν›„ ν™•μ¥)
    β”‚   β””β”€β”€ test_data/           # ν…μ¤νΈμ© λ°μ΄ν„°
    β”‚
    β”β”€β”€ docker/                  # Docker κ΄€λ ¨ μ„¤μ •
    β”‚   β”β”€β”€ config/              # Nginx λ“± ν™κ²½ μ„¤μ •
    β”‚   β””β”€β”€ data/                # λ³Όλ¥¨/λ°μ΄ν„° λ””λ ‰ν† λ¦¬
    β”‚
    β”β”€β”€ scripts_autocommit/      # Git hook λ° μλ™ν™” μ¤ν¬λ¦½νΈ
    β”‚
    β”β”€β”€ Dockerfile
    β”β”€β”€ docker-compose.yml
    β”β”€β”€ pyproject.toml           # uv / Poetry κΈ°λ° ν¨ν‚¤μ§€ κ΄€λ¦¬
    β”β”€β”€ requirements.txt         # νΈν™μ© requirements (μ„ νƒμ )
    β”β”€β”€ pytest.ini               # pytest μ„¤μ •
    β”β”€β”€ README.md
    β””β”€β”€ uv.lock

------------------------------------------------------------------------

π€ μ‚¬μ©λ²•

1. ν™κ²½ μ„Έν…

    # uv μ„¤μΉ (μµμ΄ 1ν)
    curl -LsSf https://astral.sh/uv/install.sh | sh
    source $HOME/.local/bin/env

    # μμ΅΄μ„± μ„¤μΉ
    uv sync

2. λ΅μ»¬ μ‹¤ν–‰

    uv run uvicorn api.main:app --reload

β†’ API μ„λ²„κ°€ http://localhost:8000 μ—μ„ μ‹¤ν–‰λ©λ‹λ‹¤.

3. ν…μ¤νΈ μ‹¤ν–‰

    uv run pytest

4. Docker μ‹¤ν–‰

    docker-compose up --build

------------------------------------------------------------------------

π§ ν„μ¬ μ κ³µλλ” μ—”λ“ν¬μΈνΈ

-   GET /healthz β†’ ν—¬μ¤ μ²΄ν¬
-   POST /v1/chat β†’ κΈ°λ³Έ μ±— API (echo λ™μ‘)

------------------------------------------------------------------------

π“– ν–¥ν›„ ν™•μ¥ ν¬μΈνΈ

-   api/services/ κ³„μΈµμ— ν•µμ‹¬ λ„λ©”μΈ λ΅μ§ μ¶”κ°€
-   api/adapters/μ— DB, μ™Έλ¶€ API μ—°λ™ λ¨λ“ μ¶”κ°€
-   tests/integration/ λ””λ ‰ν† λ¦¬λ¥Ό ν™μ©ν•΄ end-to-end ν…μ¤νΈ κµ¬ν„
-   docker/config/nginx/nginx.conf μ±„μ›μ„ λ°°ν¬ ν™κ²½ κµ¬μ„±

------------------------------------------------------------------------
